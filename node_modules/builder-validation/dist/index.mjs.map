{"version":3,"sources":["../src/utils/tests.ts","../src/builders/base/BaseValue.ts","../src/builders/value/ArrayValue.ts","../src/builders/value/BooleanValue.ts","../src/builders/value/IntegerValue.ts","../src/builders/value/NumberValue.ts","../src/builders/value/ObjectValue.ts","../src/builders/value/StringValue.ts","../src/builders/Schema.ts","../src/utils/functions.ts"],"sourcesContent":["/**\n * Validate a cron expression.\n * @param expression The cron expression to validate.\n * @returns Whether the cron expression is valid.\n */\nexport const testCronExpression = (expression: string): boolean => {\n  const cronExpressionRegex =\n    /^(\\*|[0-9]{1,2}|\\*\\/[0-9]{1,2}) (\\*|[0-9]{1,2}|\\*\\/[0-9]{1,2}) (\\*|[0-9]{1,2}|\\*\\/[0-9]{1,2}) (\\*|[0-9]{1,2}|\\*\\/[0-9]{1,2}) (\\*|[0-9]{1,2}|\\*\\/[0-9]{1,2})$/;\n  return cronExpressionRegex.test(expression);\n};\n\n/**\n * Validate a time.\n * @param time The time to validate.\n * @returns Whether the time is valid.\n */\nexport const validateTime = (time: string): boolean => {\n  const timeRegex = /^(?:[01]\\d|2[0-3]):(?:00|30)$/; // Regular expression to validate HH:MM format\n  return timeRegex.test(time);\n};\n\n/**\n * Tests if a string is empty.\n * @param str The string to test.\n * @returns True if the string is empty, false otherwise.\n */\nexport const testEmail = (str: string): boolean => {\n  // /^\\S+@\\S+\\.\\S+$/\n  // /\\S+@\\S+\\.\\S+/\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(str);\n};\n\n/**\n * Tests if a username is valid.\n * @param str The username to test.\n * @returns True if the username is valid, false otherwise.\n */\nexport const testUsername = (str: string): boolean => {\n  const usernameRegex = /^[a-zA-Z0-9_]{3,16}$/;\n  return usernameRegex.test(str);\n};\n\n/**\n * Tests if a password is valid.\n * @param str The password to test.\n * @returns True if the password is valid, false otherwise.\n */\nexport const testPassword = (str: string): boolean => {\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\n  return passwordRegex.test(str);\n};\n\n/**\n * Tests if a phone number is valid.\n * @param str The phone number to test.\n * @returns True if the phone number is valid, false otherwise.\n */\nexport const testPhoneNumber = (str: string): boolean => {\n  const phoneNumberRegex = /^\\d{10}$/;\n  return phoneNumberRegex.test(str);\n};\n\n/**\n * Tests if a ipv4 address is valid.\n * @param str The IPv4 address to test.\n * @returns True if the IPv4 address is valid, false otherwise.\n */\nexport const testIpv4Address = (str: string): boolean => {\n  // ^((25[0-5]|(2[0-4]|1\\d|[1-9]|)\\d)\\.?\\b){4}$ - https://stackoverflow.com/questions/5284147/validating-ipv4-addresses-with-regexp\n  const ipv4AddressRegex =\n    /^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.|$)){4}$/;\n  return ipv4AddressRegex.test(str);\n};\n\n/**\n * Tests if a color is valid.\n * @param color The color string to test.\n * @returns True if the color is valid, false otherwise.\n */\nexport const testColor = (color: string): boolean => {\n  // Remove any whitespace from the input\n  const cleanedColor = color.replace(/\\s/g, '');\n\n  // Check if the input matches a valid hex color pattern\n  if (/^#?[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/.test(cleanedColor)) {\n    // If it does, add a '#' if it's missing and return the cleanedColor\n    return cleanedColor.startsWith('#');\n  }\n\n  return false;\n};\n\n/**\n * Tests if a url is valid.\n * @param url The url to test.\n * @returns True if the url is valid, false otherwise.\n */\nexport const testUrl = (url: string): boolean => {\n  // Check if the url is valid\n  try {\n    const urlObject = new URL(url);\n    return urlObject.href === url; // Additional check to handle relative URLs\n  } catch (err) {\n    return false;\n  }\n};\n\n/**\n * Tests if a path is valid.\n * @param path The path to test.\n * @returns True if the path is valid, false otherwise.\n */\nexport const testPath = (path: string): boolean => {\n  const pathRegex = /^\\/(?:[a-zA-Z0-9_]+\\/)?[a-zA-Z0-9_]*$/;\n  return pathRegex.test(path);\n};\n","import { BaseValueSchema, SchemaTypes, ValueCheck } from '@typings/schema';\n\nexport interface BaseValueOptions {\n  name: string;\n  description?: string;\n  required?: boolean;\n  checks?: ValueCheck[];\n  structure?: string;\n  defaultValue?: SchemaTypes;\n}\n\n/**\n * The BaseValue class. Used as a foundation for all value builders.\n */\nexport default class BaseValue implements BaseValueSchema {\n  public name: string;\n  public description?: string;\n  public required: boolean;\n  public checks: ValueCheck[];\n  public structure?: string;\n  public defaultValue?: SchemaTypes;\n\n  /**\n   * Creates a new instance of the BaseValue class.\n   * @param options The options for the BaseValue class.\n   * @param options.name The name of the value.\n   * @param options.description The description of the value.\n   * @param options.required Whether the value is required or not.\n   * @param options.checks The value checks. Functions that return a boolean based on the value.\n   */\n  public constructor(options: BaseValueOptions) {\n    this.name = options.name;\n    if (options.description) this.description = options.description;\n    this.required = options.required ?? false; // Default to false\n    this.checks = options.checks ?? [];\n    if (options.structure) this.structure = options.structure;\n    this.defaultValue = options.defaultValue;\n\n    this.validate();\n  }\n\n  /**\n   * Validates the BaseValue instances properties.\n   */\n  public validate(): void {\n    if (!this.name) throw new Error('Name is required');\n    if (typeof this.name !== 'string') throw new Error('Name must be a string');\n\n    if (this.description && typeof this.description !== 'string')\n      throw new Error('Description must be a string');\n\n    if (typeof this.required !== 'boolean')\n      throw new Error('Required must be a boolean');\n\n    if (!Array.isArray(this.checks)) throw new Error('Checks must be an array');\n\n    if (this.structure && typeof this.structure !== 'string')\n      throw new Error('Structure must be a string');\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { ArrayContains, IArrayValue, ValueSchema } from '@typings/schema';\n\nexport type ArrayValueOptions = BaseValueOptions & {\n  min?: number;\n  max?: number;\n  unique?: boolean;\n  contains?: ArrayContains;\n  items?: ValueSchema[];\n};\n\n/**\n * The ArrayValue class, used to create array values.\n */\nexport default class ArrayValue\n  extends BaseValue\n  implements IArrayValue<ValueSchema>\n{\n  public type = 'array' as const;\n  public min?: number;\n  public max?: number;\n  public unique?: boolean;\n  public contains?: ArrayContains;\n  public items?: ValueSchema[];\n\n  /**\n   * Creates an instance of the ArrayValue class.\n   * @param options The options for the ArrayValue class.\n   * @param options.min The minimum amount of items in the array.\n   * @param options.max The maximum amount of items in the array.\n   * @param options.unique Whether the array is unique.\n   * @param options.contains The type that the array needs to contain.\n   * @param options.items The items of the array to be matched.\n   */\n  public constructor({\n    min,\n    max,\n    unique,\n    contains,\n    items,\n    ...options\n  }: ArrayValueOptions) {\n    super(options);\n    if (min) this.min = min;\n    if (max) this.max = max;\n    this.unique = unique ?? false;\n    if (contains) this.contains = contains;\n    if (items) this.items = items;\n  }\n\n  /**\n   * Exports the ArrayValue class properties.\n   * @returns The ArrayValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n      max: this.max,\n      min: this.min,\n      unique: this.unique,\n    };\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { IBooleanValue } from '@typings/schema';\n\nexport type BooleanValueOptions = BaseValueOptions;\n\n/**\n * The BooleanValue class, used to create boolean values.\n */\nexport default class BooleanValue extends BaseValue implements IBooleanValue {\n  public type = 'boolean' as const;\n\n  /**\n   * Creates an instance of the BooleanValue class.\n   * @param options The options for the BooleanValue class.\n   */\n  public constructor(options: BooleanValueOptions) {\n    super(options);\n  }\n\n  /**\n   * Exports the BooleanValue class properties.\n   * @returns The BooleanValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n    };\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { IIntegerValue } from '@typings/schema';\n\nexport type IntegerValueOptions = BaseValueOptions & {\n  min?: number;\n  max?: number;\n};\n\n/**\n * The InetgerValue class, used to create integer values.\n */\nexport default class IntegerValue extends BaseValue implements IIntegerValue {\n  public type = 'integer' as const;\n  public min?: number;\n  public max?: number;\n\n  /**\n   * Creates an instance of the IntegerValue class.\n   * @param options The options for the IntegerValue class.\n   */\n  public constructor(options: IntegerValueOptions) {\n    super(options);\n    if (options.min) this.min = options.min;\n    if (options.max) this.max = options.max;\n  }\n\n  /**\n   * Exports the IntegerValue class properties.\n   * @returns The IntegerValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n    };\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { INumberValue } from '@typings/schema';\n\nexport type NumberValueOptions = BaseValueOptions & {\n  min?: number;\n  max?: number;\n};\n\n/**\n * The NumberValue class, used to create number values.\n */\nexport default class NumberValue extends BaseValue implements INumberValue {\n  public type = 'number' as const;\n  public min?: number;\n  public max?: number;\n\n  /**\n   * Creates an instance of the NumberValue class.\n   * @param options The options for the NumberValue class.\n   */\n  public constructor(options: NumberValueOptions) {\n    super(options);\n    if (options.min) this.min = options.min;\n    if (options.max) this.max = options.max;\n  }\n\n  /**\n   * Exports the NumberValue class properties.\n   * @returns The NumberValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n    };\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { IObjectValue, ISchema } from '@typings/schema';\n\nexport type ObjectValueOptions = BaseValueOptions & {\n  properties: ISchema;\n};\n\n/**\n * The ObjectValue class, used to create object values.\n */\nexport default class ObjectValue<T>\n  extends BaseValue\n  implements IObjectValue<T>\n{\n  public type = 'object' as const;\n  public properties: ISchema;\n\n  /**\n   * Creates an instance of the ObjectValue class.\n   * @param options The options for the ObjectValue class.\n   */\n  public constructor(options: ObjectValueOptions) {\n    super(options);\n    this.properties = {};\n  }\n\n  /**\n   * Exports the ObjectValue class properties.\n   * @returns The ObjectValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n    };\n  }\n}\n","import BaseValue, { BaseValueOptions } from '@builders/base/BaseValue';\nimport { IStringValue, StringTest } from '@typings/schema';\n\nexport type StringValueOptions = BaseValueOptions & {\n  min?: number;\n  max?: number;\n  options?: string[];\n  test?: StringTest;\n};\n\n/**\n * The StringValue class, used to create string values.\n */\nexport default class StringValue extends BaseValue implements IStringValue {\n  public type = 'string' as const;\n  public min?: number;\n  public max?: number;\n  public options?: string[];\n  public test?: StringTest;\n\n  /**\n   * Creates an instance of the StringValue class.\n   * @param options The options for the StringValue class.\n   */\n  public constructor(options: StringValueOptions) {\n    super(options);\n    if (options.min) this.min = options.min;\n    if (options.max) this.max = options.max;\n    if (options.options) this.options = options.options;\n    if (options.test) this.test = options.test;\n  }\n\n  /**\n   * Exports the StringValue class properties.\n   * @returns The StringValue class properties.\n   */\n  public export(): unknown {\n    return {\n      type: this.type,\n      name: this.name,\n      description: this.description,\n      required: this.required,\n      structure: this.structure,\n    };\n  }\n}\n","//  Disable the no-param-reassign rule as it is needed to assign default values to undefined parameters.\n/* eslint-disable no-param-reassign */\n\nimport { ExportedSchema, ExportedValue } from '@typings/exports';\nimport { ISchema } from '@typings/schema';\nimport {\n  testEmail,\n  testIpv4Address,\n  testPassword,\n  testPath,\n  testPhoneNumber,\n  testUrl,\n  testUsername,\n} from '@utils/tests';\nimport {\n  ArrayValue,\n  BooleanValue,\n  IntegerValue,\n  NumberValue,\n  ObjectValue,\n  StringValue,\n} from './value';\nimport { ArrayValueOptions } from './value/ArrayValue';\nimport { BooleanValueOptions } from './value/BooleanValue';\nimport { IntegerValueOptions } from './value/IntegerValue';\nimport { NumberValueOptions } from './value/NumberValue';\nimport { ObjectValueOptions } from './value/ObjectValue';\nimport { StringValueOptions } from './value/StringValue';\n\ntype ValueBuilders =\n  | ArrayValue\n  | StringValue\n  | NumberValue\n  | IntegerValue\n  | BooleanValue\n  | ObjectValue<ValueBuilders>;\n\nexport type BuildersSchema = Record<string, ValueBuilders>;\n\n/**\n * The Schema class, used to create schemas, which are used to validate data.\n */\nexport default class Schema {\n  public schema: BuildersSchema;\n\n  /**\n   * Creates a new instance of the Schema class.\n   */\n  public constructor() {\n    this.schema = {};\n  }\n\n  /**\n   * Adds a array value to the schema.\n   * @param options The options of the array value.\n   * @returns The current Schema instance.\n   */\n  public addArray(options: ArrayValueOptions): this {\n    const value = new ArrayValue(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Adds a string value to the schema.\n   * @param options The options of the string value.\n   * @returns The current Schema instance.\n   */\n  public addString(options: StringValueOptions): this {\n    const value = new StringValue(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Adds a number value to the schema.\n   * @param options The options of the number value.\n   * @returns The current Schema instance.\n   */\n  public addNumber(options: NumberValueOptions): this {\n    const value = new NumberValue(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Adds a integer value to the schema.\n   * @param options The options of the integer value.\n   * @returns The current Schema instance.\n   */\n  public addInteger(options: IntegerValueOptions): this {\n    const value = new IntegerValue(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Adds a boolean value to the schema.\n   * @param options The options of the boolean value.\n   * @returns The current Schema instance.\n   */\n  public addBoolean(options: BooleanValueOptions): this {\n    const value = new BooleanValue(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Adds a object value to the schema.\n   * @param options The options of the object value.\n   * @returns The current Schema instance.\n   */\n  public addObject(options: ObjectValueOptions): this {\n    const value = new ObjectValue<ValueBuilders>(options);\n    this.schema[value.name] = value;\n    return this;\n  }\n\n  /**\n   * Validate an object against a schema.\n   * @param data The object data to validate.\n   * @param schema The schema to validate against.\n   * @param properties Whether to validate the schema properties or not.\n   * @returns A string if the validation fails, false otherwise.\n   */\n  public async validateBase<T = 'schema'>(\n    data: Record<string, unknown>,\n    schema:\n      | (T extends 'schema' ? BuildersSchema : never)\n      | (T extends 'properties' ? ISchema : never),\n    properties?: boolean\n  ): Promise<string | boolean> {\n    // Check if the data is an object\n    if (typeof data !== 'object') return 'The data provided must be an object.';\n\n    const schemaFields = properties\n      ? Object.entries(schema as ISchema)\n      : Object.entries(schema as BuildersSchema);\n\n    for (const [key, value] of schemaFields) {\n      // Check if all required fields have been provided.\n      // If the field has a default value as the required value is not provided, set the field to the default value.\n      if (value.required) {\n        if (!data[key] && value.defaultValue) {\n          data[key] = value.defaultValue;\n          break;\n        } else if (!data[key]) {\n          return `The field \"${value.name ?? key}\" has not been provided.`;\n        }\n      }\n\n      // For non required fields, if the value is not provided, set the field to the default value if it exists.\n      if (!data[key] && value.defaultValue) {\n        data[key] = value.defaultValue;\n        return false;\n      } else if (!data[key]) {\n        return false;\n      }\n    }\n\n    // Check if all provided fields are the correct type\n    for (const [key, value] of schemaFields) {\n      if (typeof data[key] !== value.type)\n        return `The field \"${value.name ?? key}\" must be of type ${\n          value.type\n        }.`;\n    }\n\n    // Check if all provided fields are valid\n    for (const [key, value] of schemaFields) {\n      // Number validation\n      if (value.type === 'number') {\n        // If both min and max are provided, check if the schema value is within the range\n        if (\n          value.min &&\n          value.max &&\n          typeof data[key] === 'number' &&\n          ((data[key] as number) < value.min ||\n            (data[key] as number) > value.max)\n        )\n          return `The field \"${value.name ?? key}\" must be between ${\n            value.min\n          } and ${value.max}.`;\n\n        // Check if the schema value is above the minimum required value\n        if (\n          value.min &&\n          typeof data[key] === 'number' &&\n          (data[key] as number) < value.min\n        )\n          return `The field \"${value.name ?? key}\" must be at least ${\n            value.min\n          }.`;\n\n        // Check if the schema value is below the maximum required value\n        if (\n          value.max &&\n          typeof data[key] === 'number' &&\n          (data[key] as number) > value.max\n        )\n          return `The field \"${value.name ?? key}\" must be less than ${\n            value.max\n          }.`;\n      }\n\n      // Integer validation\n      if (value.type === 'integer') {\n        // If both min and max are provided, check if the schema value is within the range\n        if (\n          value.min &&\n          value.max &&\n          typeof data[key] === 'number' &&\n          ((data[key] as number) < value.min ||\n            (data[key] as number) > value.max)\n        )\n          return `The field \"${value.name ?? key}\" must be between ${\n            value.min\n          } and ${value.max}.`;\n\n        // Check if the schema value is above the minimum required value\n        if (\n          value.min &&\n          typeof data[key] === 'number' &&\n          (data[key] as number) < value.min\n        )\n          return `The field \"${value.name ?? key}\" must be at least ${\n            value.min\n          }.`;\n\n        // Check if the schema value is below the maximum required value\n        if (\n          value.max &&\n          typeof data[key] === 'number' &&\n          (data[key] as number) > value.max\n        )\n          return `The field \"${value.name ?? key}\" must be less than ${\n            value.max\n          }.`;\n\n        // Check if the schema value is an integer\n        if (\n          typeof data[key] !== 'number' ||\n          !Number.isInteger(data[key] as number)\n        )\n          return `The field \"${value.name ?? key}\" must be an integer.`;\n      }\n\n      // String validation\n      if (value.type === 'string') {\n        const req = value;\n        const testVal = data[key] as string;\n\n        // Check if the schema value is included in the schema options\n        if (\n          value.options &&\n          value.options.length > 0 &&\n          !value.options.includes(data[key] as string)\n        )\n          return `The field \"${value.name ?? key}\" is not a valid option.`;\n\n        // If both min and max are provided, check if the schema value is within the range\n        if (\n          value.min &&\n          value.max &&\n          (testVal.length < value.min || testVal.length > value.max)\n        )\n          return `The field \"${value.name ?? key}\" must be between ${\n            value.min\n          } and ${value.max} characters.`;\n\n        // Check if the schema value has the minimum required length\n        if (value.min && testVal.length < value.min)\n          return `The field \"${value.name ?? key}\" must be at least ${\n            value.min\n          } characters.`;\n\n        // Check if the schema value has the maximum required length\n        if (value.max && testVal.length > value.max)\n          return `The field \"${value.name ?? key}\" must be less than ${\n            value.max\n          } characters.`;\n\n        // Test if email is valid\n        if (req.test === 'email' && !testEmail(testVal))\n          return `The field \"${\n            value.name ?? key\n          }\" must be a valid email address.`;\n\n        // Test if username is valid\n        if (req.test === 'username' && !testUsername(testVal))\n          return `The field \"${value.name ?? key}\" must be a valid username.`;\n\n        // Test if password is valid\n        if (req.test === 'passwordStrength' && !testPassword(testVal))\n          return `The field \"${\n            value.name ?? key\n          }\" is too weak to be a valid password.`;\n\n        // Test if phone number is valid\n        if (req.test === 'phoneNumber' && !testPhoneNumber(testVal))\n          return `The field \"${\n            value.name ?? key\n          }\" must be a valid phone number.`;\n\n        // Test if IPv4 address is valid\n        if (req.test === 'ipAddress' && !testIpv4Address(testVal))\n          return `The field \"${\n            value.name ?? key\n          }\" must be a valid IPv4 address.`;\n\n        // Test if a url is valid\n        if (req.test === 'url' && !testUrl(testVal))\n          return `The field \"${\n            value.name ?? key\n          }\" must be a valid IPv4 address.`;\n\n        // Test if a path is valid\n        if (req.test === 'path' && !testPath(testVal))\n          return `The field \"${value.name ?? key}\" must be a valid path.`;\n\n        // Test if the schema value is a string\n        if (typeof data[key] !== 'string')\n          return `The field \"${value.name ?? key}\" must be a string.`;\n      }\n\n      // Check if the schema value passes all checks\n      if (value.checks)\n        for (const check of value.checks) {\n          const passedCheck = await check[0](key);\n          if (!passedCheck) return `${check[1]}.`;\n        }\n\n      // Boolean validation\n      if (value.type === 'boolean') {\n        // Check if the schema value is a boolean\n        if (typeof data[key] !== 'boolean')\n          return `The field \"${value.name ?? key}\" must be a boolean.`;\n      }\n\n      // Object validation\n      if (value.type === 'object') {\n        // Check if the schema value is an object\n        if (typeof data[key] !== 'object')\n          return `The field \"${value.name ?? key}\" must be an object.`;\n        // Check if the schema value has the correct properties\n        if (value.properties && Object.keys(value.properties).length > 0) {\n          const result = await this.validateBase<'properties'>(\n            data[key] as Record<string, unknown>,\n            value.properties as ISchema,\n            true\n          );\n          if (result) return result;\n        }\n      }\n\n      // Array validation\n      if (value.type === 'array') {\n        // Check if the schema value is an array\n        if (!Array.isArray(data[key]))\n          return `The field \"${value.name ?? key}\" must be an array.`;\n\n        // Check if the schema value has the correct items\n        if (value.items && typeof value.items === 'object') {\n          for (const item of data[key] as unknown[]) {\n            const result = await this.validateBase<'items'>(\n              item as Record<string, unknown>,\n              value.items as never,\n              true\n            );\n            if (result) return result;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Run the validation function, and if the response object is provided, send a response if the validation fails.\n   * @param data The object data to validate.\n   * @returns A JSON response meaning it's invalid, or null if it's valid.\n   */\n  public async validate(data: Record<string, unknown>): Promise<null | string> {\n    const result = await this.validateBase(data, this.schema);\n    if (typeof result !== 'string') return null;\n    return result;\n  }\n\n  /**\n   * Export the schema as a JSON object.\n   * @returns The exported schema as a JSON object.\n   */\n  public export(): ExportedSchema {\n    const exportSchema: Record<string, ExportedValue<ExportedSchema>> = {};\n\n    Object.entries(this.schema).forEach(([key, value]) => {\n      const exportedValue = value.export() as ExportedValue<ExportedSchema>;\n      exportSchema[key] = exportedValue;\n    });\n\n    return exportSchema;\n  }\n}\n","/**\n * Convert a time to cron time.\n * @param time The time to convert to cron time.\n * @returns The converted time.\n */\nexport const timeToCronExpression = (time: string): string | null => {\n  const timeRegex = /^([01]\\d|2[0-3]):([0-5]\\d)$/; // Regular expression to validate HH:MM format\n\n  // Check if the time matches the HH:MM format\n  if (timeRegex.test(time)) {\n    const [hours, minutes] = time.split(':'); // Split the time into hours and minutes\n\n    if (!hours || !minutes) return null; // Return null if the time is invalid\n\n    // Format hours and minutes for cron time\n    const cronHours = hours === '00' ? '0' : hours.replace(/^0+/, ''); // Remove leading zeros, except for '00'\n    const cronMinutes = minutes.replace(/^0+/, ''); // Remove leading zeros\n\n    return `${cronMinutes} ${cronHours} * * *`; // Return the cron time format\n  }\n\n  return null; // Return null if the time is invalid\n};\n"],"mappings":"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","names":["tests_exports","__export","testColor","testCronExpression","testEmail","testIpv4Address","testPassword","testPath","testPhoneNumber","testUrl","testUsername","validateTime","testCronExpression","__name","expression","validateTime","time","testEmail","str","testUsername","testPassword","testPhoneNumber","testIpv4Address","testColor","color","cleanedColor","testUrl","url","testPath","path","BaseValue","options","__name","ArrayValue","BaseValue","min","max","unique","contains","items","options","__name","BooleanValue","BaseValue","options","__name","IntegerValue","BaseValue","options","__name","NumberValue","BaseValue","options","__name","ObjectValue","BaseValue","options","__name","StringValue","BaseValue","options","__name","Schema","options","value","ArrayValue","StringValue","NumberValue","IntegerValue","BooleanValue","ObjectValue","data","schema","properties","schemaFields","key","req","testVal","testEmail","testUsername","testPassword","testPhoneNumber","testIpv4Address","testUrl","testPath","check","result","item","exportSchema","exportedValue","__name","functions_exports","__export","timeToCronExpression","timeToCronExpression","__name","time","hours","minutes","cronHours"]}